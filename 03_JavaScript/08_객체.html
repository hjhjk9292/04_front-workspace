<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>객체</h2>
    <pre>
        1. JavaScript 데이터 유형 중 하나
        2. 중괄호{}로 생성하면 각 데이터는 "속성(property) : 값(value)"로 정의함
        3. 후행 쉼표(trailing comma)를 사용할 수 있음
        4. 형식
           변수 = {
            속성 : 값,
            속성 : 값,
            속성 : 값,
            속성 : 값, <!-- 마지막에 객체 안에는 , 붙이는 것을 일반적으로 사용 / 남아있어도 에러 없음-->
           }
        5. 객체 내에 정의되어 있는 속성에 접근하는 방법
           1) 점(.) 표기법      : 객체.속성명
           2) 대괄호([]) 표기법 : 객체['속성명']
    </pre>

    <button onclick="fnObjectDefine();">객체 확인</button>

    <script>

        const person = {
            name : '차은우',
            age : 30,
            hobbies : [
                'game',
                'travel'
            ], // 배열
            home : {
                'address' : 'seoul',
                'phone' : '02-123-4567',
            }, // 객체
            friends : [
                {
                    name : '고길동',
                    age : 30,
                },
                {
                    name : '나길동',
                    age : 20,
                }
            ], // 객체배열
        }

        function fnObjectDefine(){
            console.log(person);
            console.log("이름 : " , person.name); // 객체에 접근
            // age라는 속성값 => 대괄호 표기법
            console.log("나이 : " , person['age']); // person[age] ㅡ> age is not defined 변수인 age를 찾는거라서 오류
            console.log("취미 : " , person.hobbies); // 배열 // 배열이기 때문에 game, travel 인덱스를 반복문 돌려서 출력

            for(let hobby of person.hobbies){
                console.log(hobby)
            }

            // 점표기법 차은우의 주소만 뽑기
            console.log("주소 : ", person.home.address);

            // 접표기법 차은우의 전화번호만 뽑기
            console.log("전화번호 : ", person.home.phone);

            // 친구목록
            console.log("친구목록");
            for(let friend of person.friends) { // friend : {친구객체1} => friend : {친구객체2} // person.friends에 접근해서 let 자료형인 friends 고길동 객체와 나길동 객체를 출력
                console.log("이름 : ", friend.name, ', 나이 : ', friend.age )
            }

        }
    </script>

    <hr>

    <h2>객체에서의 for in문</h2>
    <pre>
        1. 객체가 가지고 있는 속성(property)명을 임의의 순서로 순차적으로 반환
        2. 반환되는 속성명은 string 타입이므로 속성값을 확인하기 위해서 대괄호 표기법 사용해야함
        3. 조회 목적으로만 사용하는게 좋고 추가/수정/제거 하지 않는게 좋음

        for(속성명을 받을 변수 in 객체){
            실행내용
        }
    </pre>

    <button onclick="fnForObject()">for in문</button>

    <script>
        function fnForObject(){
            for(let prop in person) { // person이 객체인데 속성을 갖고 있음
                // console.log(prop, person.prop); // person.'name' => 잘못된 거 // 속성명이 담김
                console.log(prop,person[prop]); // person[name] => 정상 
                // for in문 사용 시 대괄호 표기법만 가능
            }
        }
    </script>

    <hr>

    <h2>객체 속성</h2>
    <pre>
        1. 동적 프로퍼티 생성 가능(원래는 그런 속성이 없었는데 나중에 생김) <!-- ㅡ 원래 있는거는 정적 -->
        2. delete 연산자를 이용해서 동적으로 프로퍼티 삭제 가능 <!-- ㅡ 원래에 비해 변화가 생기면 동적이라고 생각-->
        3. function 자료형의 속성을 메소드라고 함.
    </pre>

    <button onclick="fnProperty()">프로퍼티 확인</button>

    <script>
        function fnProperty(){

            // 객체 생성
            const movie = {
                title : '히트맨2',
                'title en' : 'hitman2', // 속성명에는 공백 불가해서 홑따옴표로 묶음
                showTm : 118,
                openDt : '2025-01-22',
                status : "개봉",
                printActor : (flag) => { // flag = "조연" | "주연"
                    if(flag == '주연'){
                        console.log("권상우");
                    }else{
                        console.log("정준호");
                        console.log('이이경');
                    }
                },
                toString : function() { // 메소드 속성 // this라는 것은 내 객체가 갖고 있는 주소값, 내 객체가 갖고 있는 title,showTm,openDt 라는 속성 이라고 해석
                    // 메소드 내에서 현재 객체를 가리키고자 할 경우 this. 사용
                    // 단, 화살표 함수내에서는 this 제대로 반영 안 됨 (익명함수를 그대로 활용!)
                    return "제목 : " + this.title + "<br>"
                    + "상영시간 : " + this.showTm + "<br>"
                    + "개봉일 : " + this.openDt + "<br>"

                }
            }

            // 속성내의 값이 함수일 때 () 붙여서 메소드로 확인 ㅡ> movie.printActor() // 메소드 속성
            movie.printActor('조연')
            movie.printActor('주연')

            // 동적으로 프로퍼티 추가
            movie.nation = '한국';

            // 프로퍼티 변경 
            movie['title en'] = "HitMan2";
            
            // 프로퍼티 삭제
            delete movie.status;

            console.log(movie) // 콘솔로 출력시 이름~ 개봉일~

            document.getElementById("result").innerHTML = movie.toString(); // [object Object] // 자스의 객체 : 배열, {} 객체 // 객체타입을 찍으면 .toString 자동으로 만들어줌 // .으로 접근하는 것은 속성

        }
    </script>

    <div id="result"></div>

    <hr>

    <button onclick="fnBookProperty()">다시 복습</button>
    <div id="remind"></div>

    <script>
        /*
            객체 생성
            book => title, author, price, toString
            // 동적으로 프로퍼티 추가 -> publishDt
            //          프로퍼티 변경 -> price
            //          프로퍼티 제거 -> author
            // 객체를 for in문을 통해 순회하면서(반복) console에 찍어보기
            // #remind 요소에 책 제목 <br> 가격 이거 출력해보기
        */

        function fnBookProperty() {
        const book = {
            title : '돈의속성',
            author : '김승호',
            price : 16000,
            toString : function(){
                return this.title + "<br>" + this.price + "원"
            }
        }

        // 동적으로 프로퍼티 추가
        book.publishDt = '2020-06-15';

        // 프로퍼티 변경
        book.price = 20000;
        // book['price'] = 20000; 가능

        //프로퍼티 삭제
        delete book.author;

        for(let prop in book) { // prop = 'title' => book.'title' 이상함!! 대괄호 표기법으로 작성해주어야함
                console.log(book[prop]); // person[name] => 정상 
                // for in문 사용 시 대괄호 표기법만 가능
            }

            console.log(book)

            // #remind 요소에 책 제목 <br> 가격 이거 출력해보기
            document.getElementById("remind").innerHTML = book.toString();

    }

    </script>

    <hr>

    <h2>in과 with 키워드</h2>
    <pre>
        * in과 with 키워드
        1) in : 객체 내에 해당 속성이 있는지 확인해주는 키워드 ( 해당 속성이 존재할 경우 true / 아니면 false)
        2) with : 객체의 속성 접근 시 객체명 제시하는 걸 생략하게 도와주는 키워드
    </pre>

    이름 : <input type="text" id="name"> <br>
    국어 : <input type="text" id="kor"> <br>
    수학 : <input type="text" id="math"> <br>
    영어 : <input type="text" id="eng"> <br>

    <button onclick="fnInWith()">실행확인</button>
    <div id="result2"></div>

    <script>
        function fnInWith() {
            const student = {
                name : document.getElementById("name").value, // 객체라서 후행쉼표 꼭 필요! 잊지 않기
                kor : Number(document.getElementById("kor").value), // 숫자 100으로 입력을 했어도 문자 "100"으로 날아옴 => 숫자 100으로 형변환 // "100" -> 100
                math : Number(document.getElementById("math").value),
                eng : Number(document.getElementById("eng").value),
                toString : function(){
                    return this.name + " " + this.kor + " " + this.math + " " + this.eng;
                },
                getSum : function(){
                    return this.kor + this.math + this.eng;
                },
                getAvg : function(){ // 내 객체가 갖고있는 getSum 호출해줘,,
                    return this.getSum() / 3;
                }
            }

            console.log(student);
            document.getElementById("result2").innerHTML = student;

            console.log("name" in student);
            console.log("age" in student);

            with(student){
                console.log("학생이름 : ", name);
                console.log("점수 : ", kor, math, eng);
                console.log("총점 : ", getSum());
                console.log("평균 : ", getAvg());
            }

        }
    </script>

    <hr>

    <h2>구조분해할당</h2> <!-- 심화-->
    <pre>
        * 구조 분해 할당
            1. Destructuring Assignment
            2. 객체의 각 프로퍼티 값을 개별 변수에 쉽게 할당할 수 있는 표현식
            3. 단, 객체의 프로퍼티명과 개별 변수명을 동일하게 맞춰야함
            4. 형식
                { 변수1, 변수2, 변수3 ..} = 객체
    </pre>

    <!-- btn{구조분해할당$}*2 -->
    <button onclick="fnDestructuring1()">구조분해할당1</button>
    <button onclick="fnDestructuring2()">구조분해할당2</button>

    <script>
        function fnDestructuring1() {
            const car = {
                maker : "bmw",
                model : 'x6',
                year : 2025
            }

            /* 직접 대입 방식
            let maker = car.maker;
            let model = car.model;
            let year = car.year;
            */

            // * 구조 분해 할당 방법
            // 1) 선언과 동시에 할당
            // let { maker, model, year } = car;

            // 2) 선언 후 할당
            let maker, model, year;         // 선언
            ({maker, model, year} = car);   // 대입하고자 할 경우 반드시 () 묶어야됨

            console.log(maker, model, year)
        }

        function fnDestructuring2() {
            const qna = {
                q : '한국의 수도는?',
                a : '서울',
            }

            // 변수명이 프로퍼티명과 다르기 때문에 바로 대입 안됨 
            // let {question, answer} = qna; // undefined undefined 오류

            // * 프로퍼티명과 이름이 다른 변수에 대입하고자 할 경우 이 방법 활용
            let {q : question, a: answer} = qna;


            console.log(question, answer)
        }
    </script>

    <hr>

    <h2>객체 배열</h2>
    <button onclick="fnObjectArray()">객체 배열 확인</button>

     <script>
        function fnObjectArray(){
            const students = [
                {
                     name : '전창용',
                     java : 100,
                     oracle : 80,
                },
                {
                    name : '이용훈',
                    java : 80,
                    oracle : 70,
                },
                {
                    name : '주현수',
                    java : 60,
                    oracle : 100,
                }
            ];

            students.push({
                name : '간성훈',
                java : 70,
                oracle : 40,
            });

            console.log(students);
            console.log(students[0])
            console.log(students[0].name) // 자바스크립트 속성으로 심화 부분인데 밑에 적용한것이 위에도 적용됨.. console 이 무거워서 밑에꺼 먼저 실행하고 위에꺼 실행해서 그럼

            for(let stu of students){ // {}, {}, {}, {}
                console.log(stu);
                stu.front = 100;
                stu.getSum = function() {
                    return this.java + this.oracle + this.front;
                }
                stu.getAvg = function(){
                    return this.getSum() / 3;
                }
                
            }

            console.log(students)

        }
        
     </script>

     <hr>
     <h2>생성자 함수</h2>
     <pre>
        1. new 키워드를 통해 객체 생성을 진행시킬 수 있는 함수
        2. 함수명의 첫 글자를 대문자로 작성
        3. 화살표 함수로는 작성 불가능
        4. 프로퍼티를 함수 내에 this.프로퍼티 정의
        5. 예시
            function 생성자함수(param1, param2, ...) {
                // 일반속성
                this.prop1 = param1;
                this.prop2 = param2;
                ..
                // 메소드 속성
                this.methodProp = function(){
                    메소드 내용
                }
            }

            new 생성자함수명(1,2,3...)
     </pre>

     <button onclick="fnConstructorTest()">생성자 함수 확인</button>

     <script>
        function Student(name, java, oracle, front){ // student라는 객체를 생성하기 위한 생성자 함수
            // 일반속성
            this.name = name;
            this.java = java; // 내가 가져온 java라는 속성에다가 내가 받아온 java를 넣겠다
            this.oracle = oracle;
            this.front = front;
        

            // 메소드 속성
            this.getSum = function() {
                return this.java + this.oracle + this. front;
            }

            this.getAvg = function(){
                return this.getSum() / 3;
            }


        }

        function fnConstructorTest(){ // 배열 안에 객체가 들어감
            const students = [
                new Student('김현지', 100, 70, 50),
                new Student('이지은', 80, 90, 100),
                new Student('신현정', 100, 60, 70)
            ];

            students.push(new Student('김시연', 60, 10, 70));

            console.log(students);
            console.log(students[0])
            console.log(students[0].name)

        }
     </script>

     <hr>
     <button onclick="fnPractice()">연습</button>

     <script>
        function fnPractice(){
            let cars = [
                { model : 'K3' },
                { model : 'K5' },
                { model : 'K7' },
                { model : 'G70' },
                { model : 'GV80' },
                { model : 'GV90' },
            ];

            // cars 배열내의 객체들 중
            // model의 값이 'K'로 시작할 경우 maker : 'Kia'
            // model의 값이 'G'로 시작할 경우 maker : 'Genesis'
            // 가 추가되도록

            for(let car of cars){
                if(car.model.startsWith('K')){
                    car.maker = 'Kia';
                }else if(car.model.startsWith('G')){
                    car.maker = 'Genesis';
                }
            }

            console.log(cars);
            


        }
     </script>











    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>